{"ast":null,"code":"import _slicedToArray from\"/Users/irtazahaider/Projects/YouNotifyMe/you-notify-me/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import*as verify from\"../api/verify\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Opt(props){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),enteredCode=_useState2[0],setEnteredCode=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),responseStatus=_useState4[0],setResponseStatus=_useState4[1];var onCodeChange=function onCodeChange(event){setEnteredCode(event.target.value);};var onSubmit=function onSubmit(){// TODO: Add validation to ensure only 6 digits entered\nverify.verifyCodeAndSubscribe(enteredCode,props.subscriber.name,props.subscriber.phoneNumber,props.subscriber.zipcode).then(function(response){setResponseStatus(response.status);});};return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\\"Please enter the six digit code that has been sent to your phone number\\\"\"}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Code\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",onChange:onCodeChange})]}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Submit\",onClick:function onClick(){return onSubmit();}}),responseStatus===400&&/*#__PURE__*/_jsx(\"h1\",{children:\"You've entered an incorrect code. Please try again\"}),responseStatus===409&&/*#__PURE__*/_jsx(\"h1\",{children:\"This phone number has already been registered\"}),responseStatus===200&&/*#__PURE__*/_jsx(\"h1\",{children:\"Congratulation, you're subscribed!!\"})]});}export default Opt;","map":{"version":3,"sources":["/Users/irtazahaider/Projects/YouNotifyMe/you-notify-me/frontend/src/components/otp.jsx"],"names":["React","useState","verify","Opt","props","enteredCode","setEnteredCode","responseStatus","setResponseStatus","onCodeChange","event","target","value","onSubmit","verifyCodeAndSubscribe","subscriber","name","phoneNumber","zipcode","then","response","status"],"mappings":"qJAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAO,GAAKC,CAAAA,MAAZ,KAAwB,eAAxB,C,wFAEA,QAASC,CAAAA,GAAT,CAAaC,KAAb,CAAoB,CAClB,cAAsCH,QAAQ,CAAC,CAAD,CAA9C,wCAAOI,WAAP,eAAoBC,cAApB,eACA,eAA4CL,QAAQ,CAAC,CAAD,CAApD,yCAAOM,cAAP,eAAuBC,iBAAvB,eAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,KAAD,CAAW,CAC9BJ,cAAc,CAACI,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAd,CACD,CAFD,CAIA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CACrB;AACAX,MAAM,CACHY,sBADH,CAEIT,WAFJ,CAGID,KAAK,CAACW,UAAN,CAAiBC,IAHrB,CAIIZ,KAAK,CAACW,UAAN,CAAiBE,WAJrB,CAKIb,KAAK,CAACW,UAAN,CAAiBG,OALrB,EAOGC,IAPH,CAOQ,SAACC,QAAD,CAAc,CAClBZ,iBAAiB,CAACY,QAAQ,CAACC,MAAV,CAAjB,CACD,CATH,EAUD,CAZD,CAcA,mBACE,MAAC,KAAD,CAAO,QAAP,yBACE,mGADF,cAKE,6CAEE,cAAO,IAAI,CAAC,QAAZ,CAAqB,QAAQ,CAAEZ,YAA/B,EAFF,GALF,cASE,cAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,CAAC,QAA3B,CAAoC,OAAO,CAAE,yBAAMI,CAAAA,QAAQ,EAAd,EAA7C,EATF,CAUGN,cAAc,GAAK,GAAnB,eACC,0EAXJ,CAaGA,cAAc,GAAK,GAAnB,eACC,qEAdJ,CAgBGA,cAAc,GAAK,GAAnB,eAA0B,2DAhB7B,GADF,CAoBD,CAED,cAAeJ,CAAAA,GAAf","sourcesContent":["import React, { useState } from \"react\";\nimport * as verify from \"../api/verify\";\n\nfunction Opt(props) {\n  const [enteredCode, setEnteredCode] = useState(0);\n  const [responseStatus, setResponseStatus] = useState(0);\n\n  const onCodeChange = (event) => {\n    setEnteredCode(event.target.value);\n  };\n\n  const onSubmit = () => {\n    // TODO: Add validation to ensure only 6 digits entered\n    verify\n      .verifyCodeAndSubscribe(\n        enteredCode,\n        props.subscriber.name,\n        props.subscriber.phoneNumber,\n        props.subscriber.zipcode\n      )\n      .then((response) => {\n        setResponseStatus(response.status);\n      });\n  };\n\n  return (\n    <React.Fragment>\n      <h1>\n        \"Please enter the six digit code that has been sent to your phone\n        number\"\n      </h1>\n      <label>\n        Code\n        <input type=\"number\" onChange={onCodeChange} />\n      </label>\n      <input type=\"submit\" value=\"Submit\" onClick={() => onSubmit()} />\n      {responseStatus === 400 && (\n        <h1>You've entered an incorrect code. Please try again</h1>\n      )}\n      {responseStatus === 409 && (\n        <h1>This phone number has already been registered</h1>\n      )}\n      {responseStatus === 200 && <h1>Congratulation, you're subscribed!!</h1>}\n    </React.Fragment>\n  );\n}\n\nexport default Opt;\n"]},"metadata":{},"sourceType":"module"}